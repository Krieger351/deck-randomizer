var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,i=(r,t,n)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;"undefined"!=typeof require&&require;import{l as s}from"./vendor.22322194.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?r.credentials="include":"anonymous"===e.crossorigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();const a=e=>e.trim().split("\n").reduce(((e,r)=>{var t;const n=null==(t=r.match(/(?<count>\d+) (?<name>.+)/))?void 0:t.groups;return n&&(null==n?void 0:n.count)&&(null==n?void 0:n.name)?{cards:[...e.cards,{count:parseInt(n.count),name:n.name}],errors:e.errors}:{cards:e.cards,errors:[...e.errors,r]}}),{cards:[],errors:[]}),l=({main:e,sideboard:a})=>{const l=e.reduce(((e,r)=>e+r.count),0);return[...e,...Object.entries(s(s(a.map((e=>new Array(e.count).fill(e.name))).flat(),100-l),100-l).reduce(((e,s)=>{return a=((e,r)=>{for(var t in r||(r={}))o.call(r,t)&&i(e,t,r[t]);if(n)for(var t of n(r))c.call(r,t)&&i(e,t,r[t]);return e})({},e),l={[s]:(e[s]||0)+1},r(a,t(l));var a,l}),{})).map((([e,r])=>({count:r,name:e})))]},u=document.getElementById("generate"),d=document.getElementById("input"),m=document.getElementById("output");u.addEventListener("click",(()=>{const e=(e=>{const[r,t]=e.split("\nSIDEBOARD:\n").map(a);return{errors:[...r.errors,...t.errors],main:r.cards,sideboard:t.cards}})(d.value),r=(({errors:e})=>{if(e.length)return`These records are invalid: ${e.join(", ")}</ul>`})(e);r&&alert(r),m.value=l(e).map((({count:e,name:r})=>`${e} ${r}`)).join("\n")}));
